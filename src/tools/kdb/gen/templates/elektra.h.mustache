/**
 * @file
 *
 * @brief
 *
 * @copyright BSD License (see doc/LICENSE.md or https://www.libelektra.org)
 */

// clang-format off
{{=/*% %*/=}}
// clang-format on

#ifndef /*%& include_guard %*/
#define /*%& include_guard %*/

#ifdef __cplusplus
extern "C" {
#endif

#include <elektra.h>

#include <kdbhelper.h>
#include <string.h>

/*%# more_headers %*/
#include "/*% . %*/"
/*%/ more_headers %*/

#define ELEKTRA_CONTEXT_SET(contextTag) elektraSetContextualValue##contextTag

/*%> partial.enum.decl.h %*/

/*%> partial.struct.decl.h %*/

/*%> partial.keys.tags.h %*/

/*%> partial.context.tags.h %*/

/*%> partial.context.fun.h %*/

/*%> partial.keys.fun.h %*/

int /*%& init_function_name %*/ (Elektra ** elektra, ElektraError ** error);
void /*%& help_function_name %*/ (const char * usage, const char * prefix);
void /*%& specload_function_name %*/ (int argc, const char ** argv);

/*%={{ }}=%*/
/**
 * @param elektra The elektra instance initialized with {{{ init_function_name }}}().
 * @param tag     The tag to look up.
 *
 * @return The value stored at the given key.
 */// {{=/*% %*/=}}
#define elektraGet(elektra, tag) ELEKTRA_GET (tag) (elektra)

/*%={{ }}=%*/
/**
 * @param elektra The elektra instance initialized with {{{ init_function_name }}}().
 * @param tag     The tag to look up.
 * @param ...     Variable arguments depending on the given tag.
 *
 * @return The value stored at the given key.
 */// {{=/*% %*/=}}
#define elektraGetV(elektra, tag, ...) ELEKTRA_GET (tag) (elektra, __VA_ARGS__)

/*%={{ }}=%*/
/**
 * @param elektra The elektra instance initialized with {{{ init_function_name }}}().
 * @param tag     The tag to look up.
 * @param result  Points to the struct into which results will be stored.
 */// {{=/*% %*/=}}
#define elektraGet2(elektra, result, tag) ELEKTRA_GET (tag) (elektra, result)

/*%={{ }}=%*/
/**
 * @param elektra The elektra instance initialized with {{{ init_function_name }}}().
 * @param result  Points to the struct into which results will be stored.
 * @param tag     The tag to look up.
 * @param ...     Variable arguments depending on the given tag.
 */// {{=/*% %*/=}}
#define elektraGet2V(elektra, result, tag, ...) ELEKTRA_GET (tag) (elektra, result, __VA_ARGS__)

/*%={{ }}=%*/
/**
 * @param elektra The elektra instance initialized with the {{{ init_function_name }}}().
 * @param tag     The tag to write to.
 * @param value   The new value.
 * @param error   Pass a reference to an ElektraError pointer.
 */// {{=/*% %*/=}}
#define elektraSet(elektra, tag, value, error) ELEKTRA_SET (tag) (elektra, value, error)

/*%={{ }}=%*/
/**
 * @param elektra The elektra instance initialized with the {{{ init_function_name }}}().
 * @param tag     The tag to write to.
 * @param value   The new value.
 * @param error   Pass a reference to an ElektraError pointer.
 * @param ...     Variable arguments depending on the given tag.
 */// {{=/*% %*/=}}
#define elektraSetV(elektra, tag, value, error, ...) ELEKTRA_SET (tag) (elektra, value, __VA_ARGS__, error)

/*%={{ }}=%*/
/**
 * @param elektra The elektra instance initialized with {{{ init_function_name }}}().
 * @param tag     The array tag to look up.
 *
 * @return The size of the array below the given key.
 */// {{=/*% %*/=}}
#define elektraSize(elektra, tag) ELEKTRA_SIZE (tag) (elektra)

/*%={{ }}=%*/
/**
 * @param elektra The elektra instance initialized with {{{ init_function_name }}}().
 * @param tag     The array tag to look up.
 * @param ...     Variable arguments depending on the given tag.
 *
 * @return The size of the array below the given key.
 */// {{=/*% %*/=}}
#define elektraSizeV(elektra, tag, ...) ELEKTRA_SIZE (tag) (elektra, __VA_ARGS__)

/*%={{ }}=%*/
/**
 * @param elektra    The elektra instance initialized with {{{ init_function_name }}}().
 * @param contextTag The context tag for the contextual value you want to set.
 * @param value	     The actual value you want to set.
 */// {{=/*% %*/=}}
#define elektraContextSet(elektra, contextTag, value) ELEKTRA_CONTEXT_SET (contextTag) (elektra, value)

/*%={{ }}=%*/
/**
 * @param elektra    The elektra instance initialized with {{{ init_function_name }}}().
 * @param contextTag The context tag for the contextual value you want to set.
 * @param value	     The actual value you want to set.
 * @param ...     Variable arguments depending on the given tag.
 */// {{=/*% %*/=}}
#define elektraContextSetV(elektra, contextTag, value, ...) ELEKTRA_CONTEXT_SET (contextTag) (elektra, value, __VA_ARGS__)

#ifdef __cplusplus
}
#endif

#endif // /*%& include_guard %*/
