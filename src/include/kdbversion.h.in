/**
 * @file
 *
 * @brief A plugin which returns version information.
 *
 * @copyright BSD License (see LICENSE.md or https://www.libelektra.org)
 */

// clang-format off

@DISCLAMER@

/***************************************************************************
 *                                                                         *
 *   This program is free software; you can redistribute it and/or modify  *
 *   it under the terms of the BSD License (revised).                      *
 *                                                                         *
 ***************************************************************************/

#include <kdb.h>
#include "kdbplugin.h"

static inline ElektraKeyset *elektraVersionKeySet (void)
{
	return ksNew (50, keyNew ("system:/elektra/version",
			ELEKTRA_KEY_VALUE, "Below are version information of the Elektra Library you are currently using", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/constants", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/constants/KDB_VERSION",
			ELEKTRA_KEY_VALUE, "@KDB_VERSION@", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/constants/KDB_VERSION_MAJOR",
			ELEKTRA_KEY_VALUE, "@KDB_VERSION_MAJOR@", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/constants/KDB_VERSION_MINOR",
			ELEKTRA_KEY_VALUE, "@KDB_VERSION_MINOR@", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/constants/KDB_VERSION_PATCH",
			ELEKTRA_KEY_VALUE, "@KDB_VERSION_PATCH@", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/constants/SO_VERSION",
			ELEKTRA_KEY_VALUE, "@SO_VERSION@", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/infos",
			ELEKTRA_KEY_VALUE, "All information you want to know", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/infos/author",
			ELEKTRA_KEY_VALUE, "Markus Raab <elektra@markus-raab.org>", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/infos/licence",
			ELEKTRA_KEY_VALUE, "BSD", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/infos/description",
			ELEKTRA_KEY_VALUE, "Information of your Elektra Installation", ELEKTRA_KEY_END),
		keyNew ("system:/elektra/version/infos/version",
			ELEKTRA_KEY_VALUE, PLUGINVERSION, ELEKTRA_KEY_END),
		ELEKTRA_KS_END);
}

